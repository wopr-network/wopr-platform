# wopr-platform environment variables.
#
# Copy this file and fill in real values:
#   cp .env.example .env

# --- Server ---
NODE_ENV=development
PORT=3100
LOG_LEVEL=info

# --- Auth / Session Forwarding ---
# URL of the core WOPR daemon running better-auth (for session validation).
# The platform forwards session cookies to this service to resolve user identity.
CORE_DAEMON_URL=http://localhost:3000

# Origin of the platform UI (for CORS). Must match the UI's actual origin.
UI_ORIGIN=http://localhost:3001

# --- Fleet API Tokens ---
# Static API tokens for service-to-service authentication.
# Legacy single token (admin scope):
FLEET_API_TOKEN=
# Scoped tokens (optional, override legacy):
# FLEET_API_TOKEN_READ=
# FLEET_API_TOKEN_WRITE=
# FLEET_API_TOKEN_ADMIN=

# --- Stripe Billing ---
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...
# STRIPE_DEFAULT_PRICE_ID=price_...

# --- Security ---
# Master secret for deriving per-instance encryption keys.
# PLATFORM_SECRET=

# --- Data Directories ---
# FLEET_DATA_DIR=/data/fleet
# INSTANCE_DATA_DIR=/data/instances
# SNAPSHOT_DIR=/data/snapshots
# SNAPSHOT_DB_PATH=/data/snapshots.db
# QUOTA_DB_PATH=/data/platform/quotas.db
# WOPR_HOME_BASE=/data/instances

# --- DHT ---
# DHT_NODE_COUNT=3
# DHT_BASE_PORT=49737
# DHT_IMAGE=wopr-dht-bootstrap:latest
# DHT_BOOTSTRAP_ADDRESSES=dht1.wopr.io:49737,dht2.wopr.io:49737

# --- Discovery ---
# DISCOVERY_DEFAULT_TOPIC=wopr-global
