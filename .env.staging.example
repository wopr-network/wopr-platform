# wopr-platform staging environment variables.
#
# Copy this file and fill in real values:
#   cp .env.staging.example .env.staging

# --- Server ---
NODE_ENV=production
PORT=3100
LOG_LEVEL=debug

# --- Stripe (test mode) ---
# Use Stripe test-mode keys from https://dashboard.stripe.com/test/apikeys
STRIPE_SECRET_KEY=sk_test_REPLACE_ME
STRIPE_WEBHOOK_SECRET=whsec_REPLACE_ME
STRIPE_DEFAULT_PRICE_ID=price_REPLACE_ME

# --- Auth (better-auth) ---
# Secret for signing session cookies. Generate with: openssl rand -hex 32
BETTER_AUTH_SECRET=REPLACE_ME
# Public URL of this platform server (used by better-auth for callbacks)
BETTER_AUTH_URL=https://platform.staging.wopr.network
# SQLite database path for auth tables (user, session, account, verification)
AUTH_DB_PATH=/data/platform/auth.db
# Trusted origins for CORS (comma-separated)
UI_ORIGIN=https://staging.wopr.network

# --- Email (Resend) ---
# Resend API key for transactional emails. Get from https://resend.com/api-keys
RESEND_API_KEY=re_REPLACE_ME
# Sender email address (must be verified in Resend)
RESEND_FROM_EMAIL=noreply@wopr.network

# --- Fleet API (machine-to-machine tokens) ---
# These tokens are for internal/automated access, NOT for UI users.
# UI users authenticate via better-auth sessions above.
FLEET_API_TOKEN=

# --- DHT ---
DHT_NODE_COUNT=3
DHT_BASE_PORT=49737
DHT_IMAGE=wopr-dht-bootstrap:latest
# DHT_BOOTSTRAP_ADDRESSES=dht1.staging.wopr.network:49737,dht2.staging.wopr.network:49738

# --- Discovery ---
# DISCOVERY_DEFAULT_TOPIC=wopr-staging
