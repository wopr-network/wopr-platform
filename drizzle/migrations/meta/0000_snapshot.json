{
  "id": "a3abe909-3c23-44c1-ab33-1450ffb9bfed",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.account_deletion_requests": {
      "name": "account_deletion_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requested_by": {
          "name": "requested_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "delete_after": {
          "name": "delete_after",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cancel_reason": {
          "name": "cancel_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deletion_summary": {
          "name": "deletion_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_acct_del_tenant": {
          "name": "idx_acct_del_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_acct_del_status": {
          "name": "idx_acct_del_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_acct_del_delete_after": {
          "name": "idx_acct_del_delete_after",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "delete_after",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.admin_audit_log": {
      "name": "admin_audit_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "admin_user": {
          "name": "admin_user",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_tenant": {
          "name": "target_tenant",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_user": {
          "name": "target_user",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "(extract(epoch from now()) * 1000)::bigint"
        },
        "outcome": {
          "name": "outcome",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_admin_audit_admin": {
          "name": "idx_admin_audit_admin",
          "columns": [
            {
              "expression": "admin_user",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_admin_audit_tenant": {
          "name": "idx_admin_audit_tenant",
          "columns": [
            {
              "expression": "target_tenant",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_admin_audit_action": {
          "name": "idx_admin_audit_action",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.admin_notes": {
      "name": "admin_notes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "author_id": {
          "name": "author_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_pinned": {
          "name": "is_pinned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "(extract(epoch from now()))::bigint"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "(extract(epoch from now()))::bigint"
        }
      },
      "indexes": {
        "idx_admin_notes_tenant": {
          "name": "idx_admin_notes_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_admin_notes_author": {
          "name": "idx_admin_notes_author",
          "columns": [
            {
              "expression": "author_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_admin_notes_pinned": {
          "name": "idx_admin_notes_pinned",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_pinned",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.admin_users": {
      "name": "admin_users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "credit_balance_cents": {
          "name": "credit_balance_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "agent_count": {
          "name": "agent_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_seen": {
          "name": "last_seen",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_admin_users_email": {
          "name": "idx_admin_users_email",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_admin_users_tenant": {
          "name": "idx_admin_users_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_admin_users_status": {
          "name": "idx_admin_users_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_admin_users_role": {
          "name": "idx_admin_users_role",
          "columns": [
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_admin_users_created": {
          "name": "idx_admin_users_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_admin_users_last_seen": {
          "name": "idx_admin_users_last_seen",
          "columns": [
            {
              "expression": "last_seen",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "chk_admin_users_status": {
          "name": "chk_admin_users_status",
          "value": "\"admin_users\".\"status\" IN ('active', 'suspended', 'grace_period', 'dormant', 'banned')"
        },
        "chk_admin_users_role": {
          "name": "chk_admin_users_role",
          "value": "\"admin_users\".\"role\" IN ('platform_admin', 'tenant_admin', 'user')"
        }
      },
      "isRLSEnabled": false
    },
    "public.affiliate_codes": {
      "name": "affiliate_codes",
      "schema": "",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "affiliate_codes_code_unique": {
          "name": "affiliate_codes_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.affiliate_referrals": {
      "name": "affiliate_referrals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "referrer_tenant_id": {
          "name": "referrer_tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "referred_tenant_id": {
          "name": "referred_tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "signed_up_at": {
          "name": "signed_up_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        },
        "first_purchase_at": {
          "name": "first_purchase_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "match_amount_cents": {
          "name": "match_amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "matched_at": {
          "name": "matched_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_affiliate_ref_referrer": {
          "name": "idx_affiliate_ref_referrer",
          "columns": [
            {
              "expression": "referrer_tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_affiliate_ref_code": {
          "name": "idx_affiliate_ref_code",
          "columns": [
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "affiliate_referrals_referred_tenant_id_unique": {
          "name": "affiliate_referrals_referred_tenant_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "referred_tenant_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audit_log": {
      "name": "audit_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "auth_method": {
          "name": "auth_method",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_type": {
          "name": "resource_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_audit_timestamp": {
          "name": "idx_audit_timestamp",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_user_id": {
          "name": "idx_audit_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_action": {
          "name": "idx_audit_action",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_resource": {
          "name": "idx_audit_resource",
          "columns": [
            {
              "expression": "resource_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "resource_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.backup_status": {
      "name": "backup_status",
      "schema": "",
      "columns": {
        "container_id": {
          "name": "container_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "node_id": {
          "name": "node_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_backup_at": {
          "name": "last_backup_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_backup_size_mb": {
          "name": "last_backup_size_mb",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "last_backup_path": {
          "name": "last_backup_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_backup_success": {
          "name": "last_backup_success",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "last_backup_error": {
          "name": "last_backup_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_backups": {
          "name": "total_backups",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_backup_status_node": {
          "name": "idx_backup_status_node",
          "columns": [
            {
              "expression": "node_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_backup_status_last_backup": {
          "name": "idx_backup_status_last_backup",
          "columns": [
            {
              "expression": "last_backup_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.bot_instances": {
      "name": "bot_instances",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "node_id": {
          "name": "node_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_state": {
          "name": "billing_state",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "suspended_at": {
          "name": "suspended_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "destroy_after": {
          "name": "destroy_after",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_tier": {
          "name": "resource_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'standard'"
        },
        "storage_tier": {
          "name": "storage_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'standard'"
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        },
        "created_by_user_id": {
          "name": "created_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_bot_instances_tenant": {
          "name": "idx_bot_instances_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bot_instances_billing_state": {
          "name": "idx_bot_instances_billing_state",
          "columns": [
            {
              "expression": "billing_state",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bot_instances_destroy_after": {
          "name": "idx_bot_instances_destroy_after",
          "columns": [
            {
              "expression": "destroy_after",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bot_instances_node": {
          "name": "idx_bot_instances_node",
          "columns": [
            {
              "expression": "node_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.bot_profiles": {
      "name": "bot_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "env": {
          "name": "env",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "restart_policy": {
          "name": "restart_policy",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'unless-stopped'"
        },
        "update_policy": {
          "name": "update_policy",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'on-push'"
        },
        "release_channel": {
          "name": "release_channel",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'stable'"
        },
        "volume_name": {
          "name": "volume_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "discovery_json": {
          "name": "discovery_json",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_bot_profiles_tenant": {
          "name": "idx_bot_profiles_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bot_profiles_name": {
          "name": "idx_bot_profiles_name",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bot_profiles_release_channel": {
          "name": "idx_bot_profiles_release_channel",
          "columns": [
            {
              "expression": "release_channel",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.bulk_undo_grants": {
      "name": "bulk_undo_grants",
      "schema": "",
      "columns": {
        "operation_id": {
          "name": "operation_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_ids": {
          "name": "tenant_ids",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount_cents": {
          "name": "amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "admin_user": {
          "name": "admin_user",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "undo_deadline": {
          "name": "undo_deadline",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "undone": {
          "name": "undone",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {
        "idx_bulk_undo_deadline": {
          "name": "idx_bulk_undo_deadline",
          "columns": [
            {
              "expression": "undo_deadline",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.circuit_breaker_states": {
      "name": "circuit_breaker_states",
      "schema": "",
      "columns": {
        "instance_id": {
          "name": "instance_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "count": {
          "name": "count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "window_start": {
          "name": "window_start",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "tripped_at": {
          "name": "tripped_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_circuit_window": {
          "name": "idx_circuit_window",
          "columns": [
            {
              "expression": "window_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.credit_auto_topup_settings": {
      "name": "credit_auto_topup_settings",
      "schema": "",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "usage_enabled": {
          "name": "usage_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "usage_threshold_cents": {
          "name": "usage_threshold_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "usage_topup_cents": {
          "name": "usage_topup_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 500
        },
        "usage_consecutive_failures": {
          "name": "usage_consecutive_failures",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "usage_charge_in_flight": {
          "name": "usage_charge_in_flight",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "schedule_enabled": {
          "name": "schedule_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "schedule_amount_cents": {
          "name": "schedule_amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 500
        },
        "schedule_interval_hours": {
          "name": "schedule_interval_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 168
        },
        "schedule_next_at": {
          "name": "schedule_next_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "schedule_consecutive_failures": {
          "name": "schedule_consecutive_failures",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_auto_topup_settings_usage": {
          "name": "idx_auto_topup_settings_usage",
          "columns": [
            {
              "expression": "usage_enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_auto_topup_settings_schedule": {
          "name": "idx_auto_topup_settings_schedule",
          "columns": [
            {
              "expression": "schedule_enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "schedule_next_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.credit_auto_topup": {
      "name": "credit_auto_topup",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount_cents": {
          "name": "amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_reference": {
          "name": "payment_reference",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_auto_topup_tenant": {
          "name": "idx_auto_topup_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_auto_topup_status": {
          "name": "idx_auto_topup_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_auto_topup_created": {
          "name": "idx_auto_topup_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_auto_topup_tenant_created": {
          "name": "idx_auto_topup_tenant_created",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.credit_balances": {
      "name": "credit_balances",
      "schema": "",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "balance_credits": {
          "name": "balance_credits",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "0"
        },
        "last_updated": {
          "name": "last_updated",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.credit_transactions": {
      "name": "credit_transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount_credits": {
          "name": "amount_credits",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "balance_after_credits": {
          "name": "balance_after_credits",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reference_id": {
          "name": "reference_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "funding_source": {
          "name": "funding_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attributed_user_id": {
          "name": "attributed_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_credit_tx_tenant": {
          "name": "idx_credit_tx_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_credit_tx_type": {
          "name": "idx_credit_tx_type",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_credit_tx_ref": {
          "name": "idx_credit_tx_ref",
          "columns": [
            {
              "expression": "reference_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_credit_tx_created": {
          "name": "idx_credit_tx_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_credit_tx_tenant_created": {
          "name": "idx_credit_tx_tenant_created",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "credit_transactions_reference_id_unique": {
          "name": "credit_transactions_reference_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "reference_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.dividend_distributions": {
      "name": "dividend_distributions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount_cents": {
          "name": "amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "pool_cents": {
          "name": "pool_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "active_users": {
          "name": "active_users",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_dividend_dist_tenant": {
          "name": "idx_dividend_dist_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dividend_dist_date": {
          "name": "idx_dividend_dist_date",
          "columns": [
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dividend_dist_tenant_date": {
          "name": "idx_dividend_dist_tenant_date",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.email_notifications": {
      "name": "email_notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email_type": {
          "name": "email_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sent_at": {
          "name": "sent_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        },
        "sent_date": {
          "name": "sent_date",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_email_notif_tenant": {
          "name": "idx_email_notif_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_notif_type": {
          "name": "idx_email_notif_type",
          "columns": [
            {
              "expression": "email_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uniq_email_per_day": {
          "name": "uniq_email_per_day",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "email_type",
            "sent_date"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.fleet_events": {
      "name": "fleet_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fired": {
          "name": "fired",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "cleared_at": {
          "name": "cleared_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.gateway_metrics": {
      "name": "gateway_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "minute_key": {
          "name": "minute_key",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "capability": {
          "name": "capability",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requests": {
          "name": "requests",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "errors": {
          "name": "errors",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "credit_failures": {
          "name": "credit_failures",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {
        "idx_gateway_metrics_unique": {
          "name": "idx_gateway_metrics_unique",
          "columns": [
            {
              "expression": "minute_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "capability",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_gateway_metrics_minute": {
          "name": "idx_gateway_metrics_minute",
          "columns": [
            {
              "expression": "minute_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.gpu_nodes": {
      "name": "gpu_nodes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "droplet_id": {
          "name": "droplet_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "host": {
          "name": "host",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "region": {
          "name": "region",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "size": {
          "name": "size",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'provisioning'"
        },
        "provision_stage": {
          "name": "provision_stage",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'creating'"
        },
        "service_health": {
          "name": "service_health",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "monthly_cost_cents": {
          "name": "monthly_cost_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_health_at": {
          "name": "last_health_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "last_error": {
          "name": "last_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "(extract(epoch from now()))::bigint"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "(extract(epoch from now()))::bigint"
        }
      },
      "indexes": {
        "idx_gpu_nodes_status": {
          "name": "idx_gpu_nodes_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_gpu_nodes_region": {
          "name": "idx_gpu_nodes_region",
          "columns": [
            {
              "expression": "region",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.billing_period_summaries": {
      "name": "billing_period_summaries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant": {
          "name": "tenant",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "capability": {
          "name": "capability",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_count": {
          "name": "event_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "total_cost": {
          "name": "total_cost",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "total_charge": {
          "name": "total_charge",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "total_duration": {
          "name": "total_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "period_start": {
          "name": "period_start",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_billing_period_unique": {
          "name": "idx_billing_period_unique",
          "columns": [
            {
              "expression": "tenant",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "capability",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "provider",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "period_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_billing_period_tenant": {
          "name": "idx_billing_period_tenant",
          "columns": [
            {
              "expression": "tenant",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "period_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_billing_period_window": {
          "name": "idx_billing_period_window",
          "columns": [
            {
              "expression": "period_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "period_end",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.meter_events": {
      "name": "meter_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant": {
          "name": "tenant",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cost": {
          "name": "cost",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "charge": {
          "name": "charge",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "capability": {
          "name": "capability",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "usage_units": {
          "name": "usage_units",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "usage_unit_type": {
          "name": "usage_unit_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tier": {
          "name": "tier",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_meter_tenant": {
          "name": "idx_meter_tenant",
          "columns": [
            {
              "expression": "tenant",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_meter_timestamp": {
          "name": "idx_meter_timestamp",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_meter_capability": {
          "name": "idx_meter_capability",
          "columns": [
            {
              "expression": "capability",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_meter_session": {
          "name": "idx_meter_session",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_meter_tenant_timestamp": {
          "name": "idx_meter_tenant_timestamp",
          "columns": [
            {
              "expression": "tenant",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_meter_tier": {
          "name": "idx_meter_tier",
          "columns": [
            {
              "expression": "tier",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.usage_summaries": {
      "name": "usage_summaries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant": {
          "name": "tenant",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "capability": {
          "name": "capability",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_count": {
          "name": "event_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "total_cost": {
          "name": "total_cost",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "total_charge": {
          "name": "total_charge",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "total_duration": {
          "name": "total_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "window_start": {
          "name": "window_start",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "window_end": {
          "name": "window_end",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_summary_tenant": {
          "name": "idx_summary_tenant",
          "columns": [
            {
              "expression": "tenant",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "window_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_summary_window": {
          "name": "idx_summary_window",
          "columns": [
            {
              "expression": "window_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "window_end",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.node_registration_tokens": {
      "name": "node_registration_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "(extract(epoch from now())::bigint)"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "used": {
          "name": "used",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "node_id": {
          "name": "node_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "used_at": {
          "name": "used_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_reg_tokens_user": {
          "name": "idx_reg_tokens_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_reg_tokens_expires": {
          "name": "idx_reg_tokens_expires",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.node_transitions": {
      "name": "node_transitions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "node_id": {
          "name": "node_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "from_status": {
          "name": "from_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "to_status": {
          "name": "to_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_node_transitions_node": {
          "name": "idx_node_transitions_node",
          "columns": [
            {
              "expression": "node_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_node_transitions_created": {
          "name": "idx_node_transitions_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.nodes": {
      "name": "nodes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "host": {
          "name": "host",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "capacity_mb": {
          "name": "capacity_mb",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "used_mb": {
          "name": "used_mb",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "agent_version": {
          "name": "agent_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_heartbeat_at": {
          "name": "last_heartbeat_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "registered_at": {
          "name": "registered_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "(extract(epoch from now()))::bigint"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "(extract(epoch from now()))::bigint"
        },
        "droplet_id": {
          "name": "droplet_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "region": {
          "name": "region",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "size": {
          "name": "size",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "monthly_cost_cents": {
          "name": "monthly_cost_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "provision_stage": {
          "name": "provision_stage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_error": {
          "name": "last_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "drain_status": {
          "name": "drain_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "drain_migrated": {
          "name": "drain_migrated",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "drain_total": {
          "name": "drain_total",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "node_secret": {
          "name": "node_secret",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_nodes_status": {
          "name": "idx_nodes_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_nodes_droplet": {
          "name": "idx_nodes_droplet",
          "columns": [
            {
              "expression": "droplet_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_nodes_node_secret": {
          "name": "idx_nodes_node_secret",
          "columns": [
            {
              "expression": "node_secret",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_preferences": {
      "name": "notification_preferences",
      "schema": "",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "billing_low_balance": {
          "name": "billing_low_balance",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "billing_receipts": {
          "name": "billing_receipts",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "billing_auto_topup": {
          "name": "billing_auto_topup",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "agent_channel_disconnect": {
          "name": "agent_channel_disconnect",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "agent_status_changes": {
          "name": "agent_status_changes",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "account_role_changes": {
          "name": "account_role_changes",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "account_team_invites": {
          "name": "account_team_invites",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "(extract(epoch from now()))::bigint"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_queue": {
      "name": "notification_queue",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email_type": {
          "name": "email_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_email": {
          "name": "recipient_email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "attempts": {
          "name": "attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_attempts": {
          "name": "max_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "last_attempt_at": {
          "name": "last_attempt_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "last_error": {
          "name": "last_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_after": {
          "name": "retry_after",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "(extract(epoch from now()) * 1000)::bigint"
        },
        "sent_at": {
          "name": "sent_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_notif_queue_tenant": {
          "name": "idx_notif_queue_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notif_queue_status": {
          "name": "idx_notif_queue_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notif_queue_type": {
          "name": "idx_notif_queue_type",
          "columns": [
            {
              "expression": "email_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notif_queue_retry": {
          "name": "idx_notif_queue_retry",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "retry_after",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.oauth_states": {
      "name": "oauth_states",
      "schema": "",
      "columns": {
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "redirect_uri": {
          "name": "redirect_uri",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_oauth_states_expires": {
          "name": "idx_oauth_states_expires",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.org_memberships": {
      "name": "org_memberships",
      "schema": "",
      "columns": {
        "org_tenant_id": {
          "name": "org_tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "member_tenant_id": {
          "name": "member_tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_org_memberships_member_unique": {
          "name": "idx_org_memberships_member_unique",
          "columns": [
            {
              "expression": "member_tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_org_memberships_org": {
          "name": "idx_org_memberships_org",
          "columns": [
            {
              "expression": "org_tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "org_memberships_org_tenant_id_member_tenant_id_pk": {
          "name": "org_memberships_org_tenant_id_member_tenant_id_pk",
          "columns": [
            "org_tenant_id",
            "member_tenant_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.organization_invites": {
      "name": "organization_invites",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "invited_by": {
          "name": "invited_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "(extract(epoch from now()) * 1000)::bigint"
        }
      },
      "indexes": {
        "idx_org_invites_org_id": {
          "name": "idx_org_invites_org_id",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_org_invites_token": {
          "name": "idx_org_invites_token",
          "columns": [
            {
              "expression": "token",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "organization_invites_token_unique": {
          "name": "organization_invites_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.organization_members": {
      "name": "organization_members",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "joined_at": {
          "name": "joined_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "(extract(epoch from now()) * 1000)::bigint"
        }
      },
      "indexes": {
        "idx_org_members_org_id": {
          "name": "idx_org_members_org_id",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_org_members_user_id": {
          "name": "idx_org_members_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "org_members_org_user_unique": {
          "name": "org_members_org_user_unique",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.payram_charges": {
      "name": "payram_charges",
      "schema": "",
      "columns": {
        "reference_id": {
          "name": "reference_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount_usd_cents": {
          "name": "amount_usd_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'OPEN'"
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "filled_amount": {
          "name": "filled_amount",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        },
        "credited_at": {
          "name": "credited_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_payram_charges_tenant": {
          "name": "idx_payram_charges_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payram_charges_status": {
          "name": "idx_payram_charges_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payram_charges_created": {
          "name": "idx_payram_charges_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.plugin_marketplace_content": {
      "name": "plugin_marketplace_content",
      "schema": "",
      "columns": {
        "plugin_id": {
          "name": "plugin_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "markdown": {
          "name": "markdown",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.provider_credentials": {
      "name": "provider_credentials",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "key_name": {
          "name": "key_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "encrypted_value": {
          "name": "encrypted_value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "auth_type": {
          "name": "auth_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "auth_header": {
          "name": "auth_header",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_validated": {
          "name": "last_validated",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        },
        "rotated_at": {
          "name": "rotated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_provider_creds_provider": {
          "name": "idx_provider_creds_provider",
          "columns": [
            {
              "expression": "provider",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_provider_creds_active": {
          "name": "idx_provider_creds_active",
          "columns": [
            {
              "expression": "provider",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_provider_creds_created_by": {
          "name": "idx_provider_creds_created_by",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.provider_health_overrides": {
      "name": "provider_health_overrides",
      "schema": "",
      "columns": {
        "adapter": {
          "name": "adapter",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "healthy": {
          "name": "healthy",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "marked_at": {
          "name": "marked_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.provisioned_phone_numbers": {
      "name": "provisioned_phone_numbers",
      "schema": "",
      "columns": {
        "sid": {
          "name": "sid",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "phone_number": {
          "name": "phone_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provisioned_at": {
          "name": "provisioned_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        },
        "last_billed_at": {
          "name": "last_billed_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_provisioned_phone_tenant": {
          "name": "idx_provisioned_phone_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_provisioned_phone_last_billed": {
          "name": "idx_provisioned_phone_last_billed",
          "columns": [
            {
              "expression": "last_billed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.rate_limit_entries": {
      "name": "rate_limit_entries",
      "schema": "",
      "columns": {
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "count": {
          "name": "count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "window_start": {
          "name": "window_start",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_rate_limit_window": {
          "name": "idx_rate_limit_window",
          "columns": [
            {
              "expression": "window_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "rate_limit_entries_key_scope_pk": {
          "name": "rate_limit_entries_key_scope_pk",
          "columns": [
            "key",
            "scope"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.provider_costs": {
      "name": "provider_costs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "capability": {
          "name": "capability",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "adapter": {
          "name": "adapter",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "unit": {
          "name": "unit",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cost_usd": {
          "name": "cost_usd",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "latency_class": {
          "name": "latency_class",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'standard'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_provider_costs_capability": {
          "name": "idx_provider_costs_capability",
          "columns": [
            {
              "expression": "capability",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_provider_costs_adapter": {
          "name": "idx_provider_costs_adapter",
          "columns": [
            {
              "expression": "adapter",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_provider_costs_active": {
          "name": "idx_provider_costs_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_provider_costs_cap_adapter_model": {
          "name": "idx_provider_costs_cap_adapter_model",
          "columns": [
            {
              "expression": "capability",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "adapter",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "model",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sell_rates": {
      "name": "sell_rates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "capability": {
          "name": "capability",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "unit": {
          "name": "unit",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "price_usd": {
          "name": "price_usd",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_sell_rates_capability": {
          "name": "idx_sell_rates_capability",
          "columns": [
            {
              "expression": "capability",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sell_rates_active": {
          "name": "idx_sell_rates_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sell_rates_cap_model": {
          "name": "idx_sell_rates_cap_model",
          "columns": [
            {
              "expression": "capability",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "model",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.recovery_events": {
      "name": "recovery_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "node_id": {
          "name": "node_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trigger": {
          "name": "trigger",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tenants_total": {
          "name": "tenants_total",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "tenants_recovered": {
          "name": "tenants_recovered",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "tenants_failed": {
          "name": "tenants_failed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "tenants_waiting": {
          "name": "tenants_waiting",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "report_json": {
          "name": "report_json",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_recovery_events_node": {
          "name": "idx_recovery_events_node",
          "columns": [
            {
              "expression": "node_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_recovery_events_status": {
          "name": "idx_recovery_events_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.recovery_items": {
      "name": "recovery_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "recovery_event_id": {
          "name": "recovery_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tenant": {
          "name": "tenant",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_node": {
          "name": "source_node",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_node": {
          "name": "target_node",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "backup_key": {
          "name": "backup_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "started_at": {
          "name": "started_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_recovery_items_event": {
          "name": "idx_recovery_items_event",
          "columns": [
            {
              "expression": "recovery_event_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_recovery_items_tenant": {
          "name": "idx_recovery_items_tenant",
          "columns": [
            {
              "expression": "tenant",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.restore_log": {
      "name": "restore_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant": {
          "name": "tenant",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "snapshot_key": {
          "name": "snapshot_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "pre_restore_key": {
          "name": "pre_restore_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "restored_at": {
          "name": "restored_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "restored_by": {
          "name": "restored_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_restore_log_tenant": {
          "name": "idx_restore_log_tenant",
          "columns": [
            {
              "expression": "tenant",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "restored_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_restore_log_restored_by": {
          "name": "idx_restore_log_restored_by",
          "columns": [
            {
              "expression": "restored_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenant_security_settings": {
      "name": "tenant_security_settings",
      "schema": "",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "require_two_factor": {
          "name": "require_two_factor",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.snapshots": {
      "name": "snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant": {
          "name": "tenant",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "instance_id": {
          "name": "instance_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'on-demand'"
        },
        "s3_key": {
          "name": "s3_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "size_mb": {
          "name": "size_mb",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "size_bytes": {
          "name": "size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "node_id": {
          "name": "node_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "trigger": {
          "name": "trigger",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "plugins": {
          "name": "plugins",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'"
        },
        "config_hash": {
          "name": "config_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "storage_path": {
          "name": "storage_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_snapshots_instance": {
          "name": "idx_snapshots_instance",
          "columns": [
            {
              "expression": "instance_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_snapshots_user": {
          "name": "idx_snapshots_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_snapshots_tenant": {
          "name": "idx_snapshots_tenant",
          "columns": [
            {
              "expression": "tenant",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_snapshots_type": {
          "name": "idx_snapshots_type",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_snapshots_expires": {
          "name": "idx_snapshots_expires",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "trigger_check": {
          "name": "trigger_check",
          "value": "trigger IN ('manual', 'scheduled', 'pre_update')"
        },
        "type_check": {
          "name": "type_check",
          "value": "type IN ('nightly', 'on-demand', 'pre-restore')"
        }
      },
      "isRLSEnabled": false
    },
    "public.tenant_spending_limits": {
      "name": "tenant_spending_limits",
      "schema": "",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "global_alert_at": {
          "name": "global_alert_at",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "global_hard_cap": {
          "name": "global_hard_cap",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "per_capability_json": {
          "name": "per_capability_json",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenant_api_keys": {
      "name": "tenant_api_keys",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "encrypted_key": {
          "name": "encrypted_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tenant_keys_tenant_provider": {
          "name": "idx_tenant_keys_tenant_provider",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "provider",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tenant_keys_tenant": {
          "name": "idx_tenant_keys_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tenant_keys_provider": {
          "name": "idx_tenant_keys_provider",
          "columns": [
            {
              "expression": "provider",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenant_capability_settings": {
      "name": "tenant_capability_settings",
      "schema": "",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "capability": {
          "name": "capability",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mode": {
          "name": "mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'hosted'"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "tenant_capability_settings_tenant_id_capability_pk": {
          "name": "tenant_capability_settings_tenant_id_capability_pk",
          "columns": [
            "tenant_id",
            "capability"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.stripe_usage_reports": {
      "name": "stripe_usage_reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant": {
          "name": "tenant",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "capability": {
          "name": "capability",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "event_name": {
          "name": "event_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value_cents": {
          "name": "value_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "reported_at": {
          "name": "reported_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_stripe_usage_unique": {
          "name": "idx_stripe_usage_unique",
          "columns": [
            {
              "expression": "tenant",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "capability",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "provider",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "period_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_stripe_usage_tenant": {
          "name": "idx_stripe_usage_tenant",
          "columns": [
            {
              "expression": "tenant",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "reported_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenant_customers": {
      "name": "tenant_customers",
      "schema": "",
      "columns": {
        "tenant": {
          "name": "tenant",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "processor_customer_id": {
          "name": "processor_customer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "processor": {
          "name": "processor",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'stripe'"
        },
        "tier": {
          "name": "tier",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'free'"
        },
        "billing_hold": {
          "name": "billing_hold",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "inference_mode": {
          "name": "inference_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'byok'"
        },
        "created_at": {
          "name": "created_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tenant_customers_processor": {
          "name": "idx_tenant_customers_processor",
          "columns": [
            {
              "expression": "processor_customer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tenant_customers_processor_customer_id_unique": {
          "name": "tenant_customers_processor_customer_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "processor_customer_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenant_model_selection": {
      "name": "tenant_model_selection",
      "schema": "",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "default_model": {
          "name": "default_model",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'openrouter/auto'"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenant_status": {
      "name": "tenant_status",
      "schema": "",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "status_reason": {
          "name": "status_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status_changed_at": {
          "name": "status_changed_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "status_changed_by": {
          "name": "status_changed_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "grace_deadline": {
          "name": "grace_deadline",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "data_delete_after": {
          "name": "data_delete_after",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "(extract(epoch from now()))::bigint"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "(extract(epoch from now()))::bigint"
        }
      },
      "indexes": {
        "idx_tenant_status_status": {
          "name": "idx_tenant_status_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tenant_status_grace": {
          "name": "idx_tenant_status_grace",
          "columns": [
            {
              "expression": "grace_deadline",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tenant_status_delete": {
          "name": "idx_tenant_status_delete",
          "columns": [
            {
              "expression": "data_delete_after",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenants": {
      "name": "tenants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "owner_id": {
          "name": "owner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "(extract(epoch from now()) * 1000)::bigint"
        }
      },
      "indexes": {
        "idx_tenants_slug": {
          "name": "idx_tenants_slug",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tenants_owner": {
          "name": "idx_tenants_owner",
          "columns": [
            {
              "expression": "owner_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tenants_type": {
          "name": "idx_tenants_type",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tenants_slug_unique": {
          "name": "tenants_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "chk_tenants_type": {
          "name": "chk_tenants_type",
          "value": "\"tenants\".\"type\" IN ('personal', 'org')"
        }
      },
      "isRLSEnabled": false
    },
    "public.user_roles": {
      "name": "user_roles",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "granted_by": {
          "name": "granted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "granted_at": {
          "name": "granted_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_user_roles_tenant": {
          "name": "idx_user_roles_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_roles_role": {
          "name": "idx_user_roles_role",
          "columns": [
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "user_roles_user_id_tenant_id_pk": {
          "name": "user_roles_user_id_tenant_id_pk",
          "columns": [
            "user_id",
            "tenant_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.vps_subscriptions": {
      "name": "vps_subscriptions",
      "schema": "",
      "columns": {
        "bot_id": {
          "name": "bot_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "ssh_public_key": {
          "name": "ssh_public_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cloudflare_tunnel_id": {
          "name": "cloudflare_tunnel_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hostname": {
          "name": "hostname",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "disk_size_gb": {
          "name": "disk_size_gb",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 20
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_vps_sub_tenant": {
          "name": "idx_vps_sub_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_vps_sub_stripe": {
          "name": "idx_vps_sub_stripe",
          "columns": [
            {
              "expression": "stripe_subscription_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "vps_subscriptions_stripe_subscription_id_unique": {
          "name": "vps_subscriptions_stripe_subscription_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "stripe_subscription_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.webhook_seen_events": {
      "name": "webhook_seen_events",
      "schema": "",
      "columns": {
        "event_id": {
          "name": "event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "seen_at": {
          "name": "seen_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_webhook_seen_expires": {
          "name": "idx_webhook_seen_expires",
          "columns": [
            {
              "expression": "seen_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "webhook_seen_events_event_id_source_pk": {
          "name": "webhook_seen_events_event_id_source_pk",
          "columns": [
            "event_id",
            "source"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.webhook_sig_penalties": {
      "name": "webhook_sig_penalties",
      "schema": "",
      "columns": {
        "ip": {
          "name": "ip",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "failures": {
          "name": "failures",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "blocked_until": {
          "name": "blocked_until",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "updated_at": {
          "name": "updated_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_sig_penalties_blocked": {
          "name": "idx_sig_penalties_blocked",
          "columns": [
            {
              "expression": "blocked_until",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "webhook_sig_penalties_ip_source_pk": {
          "name": "webhook_sig_penalties_ip_source_pk",
          "columns": [
            "ip",
            "source"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.marketplace_plugins": {
      "name": "marketplace_plugins",
      "schema": "",
      "columns": {
        "plugin_id": {
          "name": "plugin_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "npm_package": {
          "name": "npm_package",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "featured": {
          "name": "featured",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 999
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "discovered_at": {
          "name": "discovered_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "enabled_at": {
          "name": "enabled_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "enabled_by": {
          "name": "enabled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "installed_at": {
          "name": "installed_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "install_error": {
          "name": "install_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "marketplace_plugins_enabled_idx": {
          "name": "marketplace_plugins_enabled_idx",
          "columns": [
            {
              "expression": "enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.onboarding_sessions": {
      "name": "onboarding_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "anonymous_id": {
          "name": "anonymous_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "wopr_session_name": {
          "name": "wopr_session_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "graduated_at": {
          "name": "graduated_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "graduation_path": {
          "name": "graduation_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_platform_cost_usd": {
          "name": "total_platform_cost_usd",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "onboarding_sessions_user_id_idx": {
          "name": "onboarding_sessions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "onboarding_sessions_anonymous_id_idx": {
          "name": "onboarding_sessions_anonymous_id_idx",
          "columns": [
            {
              "expression": "anonymous_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "onboarding_sessions_wopr_session_name_unique": {
          "name": "onboarding_sessions_wopr_session_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "wopr_session_name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.session_usage": {
      "name": "session_usage",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "page": {
          "name": "page",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "input_tokens": {
          "name": "input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "output_tokens": {
          "name": "output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cached_tokens": {
          "name": "cached_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cache_write_tokens": {
          "name": "cache_write_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cost_usd": {
          "name": "cost_usd",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_session_usage_session": {
          "name": "idx_session_usage_session",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_session_usage_user": {
          "name": "idx_session_usage_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_session_usage_created": {
          "name": "idx_session_usage_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_session_usage_page": {
          "name": "idx_session_usage_page",
          "columns": [
            {
              "expression": "page",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.setup_sessions": {
      "name": "setup_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "plugin_id": {
          "name": "plugin_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'in_progress'"
        },
        "collected": {
          "name": "collected",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "dependencies_installed": {
          "name": "dependencies_installed",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_count": {
          "name": "error_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "started_at": {
          "name": "started_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "setup_sessions_session_id_idx": {
          "name": "setup_sessions_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "setup_sessions_plugin_id_idx": {
          "name": "setup_sessions_plugin_id_idx",
          "columns": [
            {
              "expression": "plugin_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "setup_sessions_session_in_progress_uniq": {
          "name": "setup_sessions_session_in_progress_uniq",
          "nullsNotDistinct": false,
          "columns": [
            "session_id",
            "status"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}